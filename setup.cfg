[tool:pytest]
addopts =
    --doctest-glob='*.rst'
    --doctest-modules
    --doctest-continue-on-failure
    --ignore=patzilla/access/sip
    --ignore=patzilla/navigator/static
    --ignore=patzilla/navigator/templates
    --ignore=patzilla/util/database
    --ignore=patzilla/util/web/uwsgi/uwsgidecorators.py
    --ignore=setup.py
    --ignore=fabfile.py
    --app-cache-backend=filesystem
    patzilla tests
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')

[coverage:run]
source = patzilla
branch = false

[coverage:report]
fail_under = 0
show_missing = true
omit =
    **/test_*.py
    tests/*
    patzilla/access/sip/*
    patzilla/util/cql/pyparsing/searchparser.py
    patzilla/util/database/beaker_*
    patzilla/util/web/uwsgi/uwsgidecorators.py
